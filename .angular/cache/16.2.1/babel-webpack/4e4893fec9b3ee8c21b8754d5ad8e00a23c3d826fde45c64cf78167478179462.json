{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport { forkJoin } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./api.service\";\nimport * as i2 from \"@angular/common\";\nfunction AppComponent_div_2_div_1_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const team_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", team_r5.wins, \"-\", team_r5.losses, \"\");\n  }\n}\nfunction AppComponent_div_2_div_1_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const team_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\"\", team_r5.wins, \"-\", team_r5.losses, \"-\", team_r5.ties, \"\");\n  }\n}\nfunction AppComponent_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 7);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 8);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, AppComponent_div_2_div_1_div_9_Template, 2, 2, \"div\", 9);\n    i0.ɵɵtemplate(10, AppComponent_div_2_div_1_div_10_Template, 2, 3, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const team_r5 = ctx.$implicit;\n    const i_r6 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r6 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 5, team_r5.name));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 7, team_r5.team));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", team_r5.ties === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", team_r5.ties > 0);\n  }\n}\nfunction AppComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtemplate(1, AppComponent_div_2_div_1_Template, 11, 9, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const scoreboard_r3 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", scoreboard_r3);\n  }\n}\nfunction AppComponent_div_5_p_3_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 16);\n    i0.ɵɵtext(1, \"\\u25CF\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_5_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtemplate(1, AppComponent_div_5_p_3_span_1_Template, 2, 0, \"span\", 14);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 15);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const game_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", game_r14.active);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate4(\"\", game_r14.awayTeam, \" @ \", game_r14.homeTeam, \", \", game_r14.awayScore, \"-\", game_r14.homeScore, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(game_r14.time);\n  }\n}\nfunction AppComponent_div_5_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Inga intressanta lag har spelat \\u00E4n i denna omg\\u00E5ng.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"h2\");\n    i0.ɵɵtext(2, \"Senaste matcherna\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, AppComponent_div_5_p_3_Template, 6, 6, \"p\", 12);\n    i0.ɵɵtemplate(4, AppComponent_div_5_p_4_Template, 2, 0, \"p\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const games_r11 = ctx.ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", games_r11);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", games_r11.length === 0);\n  }\n}\nfunction AppComponent_div_7_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const game_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\" \", i0.ɵɵpipeBind2(2, 3, game_r19.date, \"dd/MM, HH:ss\"), \": \", game_r19.awayTeam, \" @ \", game_r19.homeTeam, \" \");\n  }\n}\nfunction AppComponent_div_7_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Alla intressanta lag har spelat denna omg\\u00E5ng.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"h2\");\n    i0.ɵɵtext(2, \"Kommande matcher\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, AppComponent_div_7_p_3_Template, 3, 6, \"p\", 12);\n    i0.ɵɵtemplate(4, AppComponent_div_7_p_4_Template, 2, 0, \"p\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const games_r16 = ctx.ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", games_r16);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", games_r16.length === 0);\n  }\n}\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(apiService) {\n      this.apiService = apiService;\n      this.players = [{\n        name: 'Tim',\n        teamId: 23\n      }, {\n        name: 'KF & Joppe',\n        teamId: 18\n      }, {\n        name: 'Martin & Danezen',\n        teamId: 26\n      }, {\n        name: 'Babben',\n        teamId: 27\n      }, {\n        name: 'Clabbe',\n        teamId: 16\n      }, {\n        name: 'Chrisse',\n        teamId: 10\n      }, {\n        name: 'Johan',\n        teamId: 13\n      }, {\n        name: 'Filip',\n        teamId: 24\n      }, {\n        name: 'Ola & Fegbert',\n        teamId: 9\n      }, {\n        name: 'Joel',\n        teamId: 29\n      }, {\n        name: 'Ogg',\n        teamId: 7\n      }];\n      this.orderByPoints = teams => {\n        return teams.sort((a, b) => {\n          if (a.wins > b.wins) {\n            return -1;\n          } else if (a.wins < b.wins) {\n            return 1;\n          } else {\n            if (a.ties > b.ties) {\n              return -1;\n            } else if (a.ties < b.ties) {\n              return 1;\n            } else {\n              if (a.losses < b.losses) {\n                return -1;\n              } else if (a.losses > b.losses) {\n                return 1;\n              } else {\n                if (a.divisionWins > b.divisionWins) {\n                  return -1;\n                } else {\n                  return -1;\n                }\n              }\n            }\n          }\n        });\n      };\n    }\n    ngOnInit() {\n      let apiCalls = this.players.map(player => this.apiService.getTeamData(player.teamId));\n      this.leagueData$ = this.apiService.getLeagueData();\n      this.allTeamData$ = forkJoin(apiCalls);\n      this.scoreboard$ = this.allTeamData$.pipe(map(results => {\n        return results.map((res, index) => {\n          const scores = res.team.record.items[0].summary.split(\"-\");\n          return {\n            name: this.players[index].name,\n            wins: scores[0],\n            losses: scores[1],\n            ties: scores.length > 2 ? scores[2] : 0,\n            divisionWins: res.team.record.items[0].stats[21].value,\n            team: res.team.shortDisplayName\n          };\n        });\n      }), map(teamData => this.orderByPoints(teamData)));\n      this.allGameData$ = this.allTeamData$.pipe(map(results => {\n        return results.map((res, index) => {\n          return {\n            homeTeam: res.team.nextEvent[0].competitions[0].competitors[0].team.shortDisplayName,\n            homeScore: res.team.nextEvent[0].competitions[0].competitors[0].score ? res.team.nextEvent[0].competitions[0].competitors[0].score.value : 0,\n            awayTeam: res.team.nextEvent[0].competitions[0].competitors[1].team.shortDisplayName,\n            awayScore: res.team.nextEvent[0].competitions[0].competitors[1].score ? res.team.nextEvent[0].competitions[0].competitors[1].score.value : 0,\n            date: res.team.nextEvent[0].date,\n            active: res.team.nextEvent[0].competitions[0].status.type.state === \"in\",\n            completed: res.team.nextEvent[0].competitions[0].status.type.completed,\n            time: res.team.nextEvent[0].competitions[0].status.type.shortDetail\n          };\n        });\n      }), map(upcomingGameData => {\n        return upcomingGameData.reduce((acc, g) => {\n          const exists = acc.some(game => game.homeTeam === g.homeTeam);\n          if (!exists) {\n            acc.push(g);\n          }\n          return acc;\n        }, []).sort((a, b) => a.date > b.date ? 1 : -1);\n      }));\n      this.upcomingGames$ = this.allGameData$.pipe(map(games => games.filter(game => !game.active && !game.completed)));\n      this.startedGames$ = this.allGameData$.pipe(map(games => games.filter(game => game.active || game.completed)));\n    }\n    static #_ = this.ɵfac = function AppComponent_Factory(t) {\n      return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AppComponent,\n      selectors: [[\"app-root\"]],\n      decls: 9,\n      vars: 9,\n      consts: [[\"class\", \"scoreboard\", 4, \"ngIf\"], [1, \"game-section\"], [\"class\", \"section\", 4, \"ngIf\"], [1, \"scoreboard\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\"], [1, \"col\", \"pos\"], [1, \"col\", \"dude\"], [1, \"col\", \"name\"], [\"class\", \"col score\", 4, \"ngIf\"], [1, \"col\", \"score\"], [1, \"section\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"class\", \"live\", 4, \"ngIf\"], [1, \"phase\"], [1, \"live\"]],\n      template: function AppComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h1\");\n          i0.ɵɵtext(1, \"Vuxna m\\u00E4n bettar p\\u00E5 NFL, ibland.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(2, AppComponent_div_2_Template, 2, 1, \"div\", 0);\n          i0.ɵɵpipe(3, \"async\");\n          i0.ɵɵelementStart(4, \"div\", 1);\n          i0.ɵɵtemplate(5, AppComponent_div_5_Template, 5, 2, \"div\", 2);\n          i0.ɵɵpipe(6, \"async\");\n          i0.ɵɵtemplate(7, AppComponent_div_7_Template, 5, 2, \"div\", 2);\n          i0.ɵɵpipe(8, \"async\");\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 3, ctx.scoreboard$));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(6, 5, ctx.startedGames$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(8, 7, ctx.upcomingGames$));\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i2.AsyncPipe, i2.UpperCasePipe, i2.DatePipe],\n      styles: [\"[_nghost-%COMP%]{display:flex;align-items:center;flex-direction:column;margin-bottom:100px}@media (max-width: 576px){[_nghost-%COMP%]{padding:0 25px}}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{margin:75px 0;color:#fff;text-shadow:1px 1px black;font-size:50px;text-align:center}@media (max-width: 576px){[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{font-size:25px}}[_nghost-%COMP%]   .scoreboard[_ngcontent-%COMP%]{border-radius:10px;max-width:600px;width:100%;background:#242582;box-shadow:0 0 16px 4px #0003;border:1px solid #6c70ce}[_nghost-%COMP%]   .scoreboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;padding:15px 30px;font-size:21px;color:#fff}[_nghost-%COMP%]   .scoreboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:1px solid #6c70ce}[_nghost-%COMP%]   .scoreboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:first-of-type   .col.dude[_ngcontent-%COMP%], [_nghost-%COMP%]   .scoreboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:first-of-type   .col.name[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .scoreboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:first-of-type   .col.dude[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   .scoreboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:first-of-type   .col.name[_ngcontent-%COMP%]:before{position:absolute;top:-50px;content:\\\"\\\";background-image:url(https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/160/apple/76/crown_1f451.png);background-size:cover;width:55px;height:55px}[_nghost-%COMP%]   .scoreboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:first-of-type   .col.name[_ngcontent-%COMP%]:before{display:none}@media (max-width: 480px){[_nghost-%COMP%]   .scoreboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:first-of-type   .col.name[_ngcontent-%COMP%]:before{display:inline-block;top:-36px;width:40px;height:40px}}[_nghost-%COMP%]   .scoreboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{flex:1;text-overflow:ellipsis}[_nghost-%COMP%]   .scoreboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col.pos[_ngcontent-%COMP%], [_nghost-%COMP%]   .scoreboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col.score[_ngcontent-%COMP%]{flex:0 0 50px!important}@media (max-width: 480px){[_nghost-%COMP%]   .scoreboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col.dude[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]   .scoreboard[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]:last-of-type{text-align:right}[_nghost-%COMP%]   .game-section[_ngcontent-%COMP%]{width:100%;justify-content:center;display:flex;flex:1;margin-top:50px}@media (max-width: 768px){[_nghost-%COMP%]   .game-section[_ngcontent-%COMP%]{flex-direction:column}}[_nghost-%COMP%]   .game-section[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .game-section[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:20px 0;color:#fff;text-shadow:1px 1px black;font-size:40px}@media (max-width: 576px){[_nghost-%COMP%]   .game-section[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px}}[_nghost-%COMP%]   .game-section[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   span.phase[_ngcontent-%COMP%]{margin-left:10px;font-size:18px}[_nghost-%COMP%]   .game-section[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   span.live[_ngcontent-%COMP%]{color:#3ae03a;margin-right:10px;margin-top:-10px}[_nghost-%COMP%]   .game-section[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:30px;color:#fff;text-shadow:1px 1px black;margin-bottom:10px}@media (max-width: 576px){[_nghost-%COMP%]   .game-section[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px}}\"]\n    });\n  }\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}